package com.yuyaa.awashcar.fragment;import java.lang.reflect.Field;import android.app.Activity;import android.content.Intent;import android.content.res.Configuration;import android.os.Bundle;import android.support.annotation.Nullable;import android.support.v4.app.Fragment;import android.util.AttributeSet;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import com.koushikdutta.ion.Ion;import com.umeng.analytics.MobclickAgent;import com.yuyaa.awashcar.MyApplication;import com.yuyaa.awashcar.R;import com.yuyaa.awashcar.interfaces.XmlClickEvent;import com.yuyaa.awashcar.util.Const;public abstract class BaseFragment extends Fragment implements XmlClickEvent {	@Override	public View onCreateView(LayoutInflater inflater,			@Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {		// TODO Auto-generated method stub		if (firstIn == 0) {			firstIn = 1;		}		return super.onCreateView(inflater, container, savedInstanceState);	}	public static final int LOADING_FINISHED = 0;	public static final int REFRESH = 1;	public static final int RELOAD_DATA = 2;	public static final int TIME_OUT = 3;	public static final int SERVICE_TYPE_MAINTENANCE = 5;	public static final int SERVICE_TYPE_BEAUTY = 6;	public static final int SERVICE_TYPE_REPAIR = 7;	public static final int SERVICE_TYPE_RESCUE = 4;	protected static final int RELOAD_COMMENT_DATA = 8;	protected static final int RELOAD_COMMENT_FINISHED = 9;	protected static final int COMMENT_SUCCESS = 10;	protected static final int COMMENT_FAIL = 11;	protected static final int SUPPORT_REPLY = 12;	public int firstIn = 0;	public boolean in_and_out = true;	public boolean isVisibleToUser;	@Override	public void xmlClickMethod(View v) {		// TODO Auto-generated method stub	}	@Override	public void setUserVisibleHint(boolean isVisibleToUser) {		// TODO Auto-generated method stub		super.setUserVisibleHint(isVisibleToUser);		this.isVisibleToUser = isVisibleToUser;		if (firstIn != 0) {			if (isVisibleToUser) {				if (in_and_out) {					in_and_out = false;					MobclickAgent.onPageStart(getClass().getName());				}			} else {				if (!in_and_out) {					in_and_out = true;					MobclickAgent.onPageEnd(getClass().getName());				}			}		}	}	@Override	public void onActivityCreated(Bundle savedInstanceState) {		// TODO Auto-generated method stub		super.onActivityCreated(savedInstanceState);	}	@Override	public void onActivityResult(int requestCode, int resultCode, Intent data) {		// TODO Auto-generated method stub		super.onActivityResult(requestCode, resultCode, data);	}	@Override	public void onAttach(Activity activity) {		// TODO Auto-generated method stub		super.onAttach(activity);	}	@Override	public void onConfigurationChanged(Configuration newConfig) {		// TODO Auto-generated method stub		super.onConfigurationChanged(newConfig);	}	@Override	public void onCreate(Bundle savedInstanceState) {		// TODO Auto-generated method stub		super.onCreate(savedInstanceState);	}	@Override	public void onDestroy() {		// TODO Auto-generated method stub		super.onDestroy();	}	@Override	public void onDestroyOptionsMenu() {		// TODO Auto-generated method stub		super.onDestroyOptionsMenu();	}	@Override	public void onDestroyView() {		// TODO Auto-generated method stub		super.onDestroyView();	}	@Override	public void onDetach() {		// TODO Auto-generated method stub		super.onDetach();		try {			Field childFragmentManager = Fragment.class					.getDeclaredField("mChildFragmentManager");			childFragmentManager.setAccessible(true);			childFragmentManager.set(this, null);		} catch (NoSuchFieldException e) {			throw new RuntimeException(e);		} catch (IllegalAccessException e) {			throw new RuntimeException(e);		}	}	@Override	public void onInflate(Activity activity, AttributeSet attrs,			Bundle savedInstanceState) {		// TODO Auto-generated method stub		super.onInflate(activity, attrs, savedInstanceState);	}	@Override	public void onLowMemory() {		// TODO Auto-generated method stub		super.onLowMemory();	}	@Override	public void onPause() {		// TODO Auto-generated method stub		super.onPause();		if (!in_and_out) {			in_and_out = true;			MobclickAgent.onPageEnd(getClass().getName());		}	}	@Override	public void onResume() {		// TODO Auto-generated method stub		super.onResume();		if (in_and_out) {			in_and_out = false;			MobclickAgent.onPageStart(getClass().getName());		}	}	@Override	public void onStart() {		// TODO Auto-generated method stub		super.onStart();	}	@Override	public void onStop() {		// TODO Auto-generated method stub		super.onStop();	}	public BaseFragment() {		// TODO Auto-generated constructor stub		MyApplication.getInstance().fragementList.add(this);	}	public int getShownIndex() {		return getArguments().getInt("index", 0);	}	public void setViewImage(ImageView imageView, String url) {		Ion.with(this).load(Const.SERVER_BASE_PATH + url).withBitmap()				.placeholder(R.drawable.unload_image)				.error(R.drawable.outofmemory).animateLoad(null)				.animateIn(null).intoImageView(imageView);	}	/**	 * @param args	 */}